---
title: "Data Description"
description: |
  Welcome to our new blog, My Blog. We hope you enjoy 
  reading what we have to say!
author:
  - name: Jimmy Effendy 
    affiliation: Monash University
date: 09-03-2020
output:
  distill::distill_article:
    self_contained: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)

library(COVID19)
library(tidyverse)
library(DT)
library(formattable)
library(sparkline)
```

```{css, echo = FALSE}
thead {
  background-color: #006DAE;
  color: white;
}
```

```{r data-read}
covid_ukraine <- covid19(country = "Ukraine")

covid_ukraine_long <- covid_ukraine %>% 
  select(date, tests, confirmed, recovered, deaths) %>% 
  pivot_longer(cols = tests:deaths,
               names_to = "type",
               values_to = "cases")
```

```{r cases}
covid_ukraine %>% 
  select(date:deaths) %>% 
  datatable(options = list(pageLength = 5))
```

```{r summary-stats}
covid_ukraine_long %>%
  rename("Type" = "type") %>% 
  group_by(Type) %>% 
  summarise(fivenum = list(setNames(as.vector(summary(na.omit(cases))),
                                    c("Min", "Q1", "Median", "Mean", "Q3", "Max"))),
            Distribution = spk_chr(cases, type = "box")) %>% 
  unnest_wider(fivenum) %>% 
  datatable(escape = FALSE,
            options = list(paging = FALSE,
                           dom = "t",
                           fnDrawCallback = htmlwidgets::JS(
  '
function(){
  HTMLWidgets.staticRender();
}
'
))) %>% 
  spk_add_deps() %>% 
  formatRound(columns = c("Min", "Q1", "Mean", "Median", "Q3", "Max"), digits = 2)
```